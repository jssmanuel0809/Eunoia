<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <title>Shop</title>

        <link rel="stylesheet" href="../style/shop.css">

        <!-- components -->
        <script src="../components/header.js" type="text/javascript" defer></script>
        <script src="../components/footer.js" type="text/javascript" defer></script>

    </head>
    <body>

            <!-- HEADER -->
        <header-component></header-component>


        <a href="#cartpopup"><h1 class="cart-icon"><i class="fa fa-shopping-cart"></i></h1></a>
        <!--PRODUCT GALLERY-->
        <div class="shop-container">
            <h1 class="head">AFRICA</h1>
            <!-- ----------APPARELS---------- -->
            <div id="apparelsAfrica" class="small-container">
                <h3>ALL PRODUCTS - APPAREL (Africa)</h3>
                <div class="row">
                    <div class="col-1">
                        <img id="t1" src="../public/image/tshirts/t1.png" alt="product1">
                        <h4>Eunoia Shirt</h4>
                        <p id="price">₱299</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="t3" src="../public/image/tshirts/t3.png" alt="product3">
                        <h4>Live Shirt</h4>
                        <p id="price">₱399</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="t4" src="../public/image/tshirts/t4.png" alt="product4">
                        <h4>True Love Shirt</h4>
                        <p id="price">₱399</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="t5" src="../public/image/tshirts/t5.png" alt="product4">
                        <h4>Minimal Flower Shirt</h4>
                        <p id="price">₱399</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="s2" src="../public/image/sweatshirts/s2.png" alt="product4">
                        <h4>Minimal Flower Sweatshirt</h4>
                        <p id="price">₱599</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="s3" src="../public/image/sweatshirts/s3.png" alt="product4">
                        <h4>Love Coral Sweatshirt</h4>
                        <p id="price">₱599</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
            </div>
            <!-- ----------ACCESSORIES---------- -->
            <div id="accessoriesAfrica" class="small-container">
                <br>
                <br>
                <br>
                <br>
                <h3>ALL PRODUCTS - ACCESSORIES (Africa)</h3>
                <div class="row">
            
                    <div class="col-1">
                        <img id="to2" src="../public/image/totes/to2.png" alt="product4">
                        <h4>First Day of Summer Tote</h4>
                        <p id="price">₱299</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="to3" src="../public/image/totes/to3.png" alt="product4">
                        <h4>Face Tote</h4>
                        <p id="price">₱299</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="c1" src="../public/image/caps/c1.png" alt="product4">
                        <h4>Flower Cap in turquoise</h4>
                        <p id="price">₱249</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="c2" src="../public/image/caps/c1 yellow.png" alt="product4">
                        <h4>Flower Cap in yellow</h4>
                        <p id="price">₱249</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="c3" src="../public/image/caps/c2.png" alt="product4">
                        <h4>Lavender Nights Cap</h4>
                        <p id="price">₱249</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="c4" src="../public/image/caps/c2 white.png" alt="product4">
                        <h4>Lavender Nights Cap in white</h4>
                        <p id="price">₱249</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="n1" src="../public/image/necklaces/n1.png" alt="product4">
                        <h4>Flower Necklace 1</h4>
                        <p id="price">₱299</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="n4" src="../public/image/necklaces/n4.png" alt="product4">
                        <h4>Love Necklace</h4>
                        <p id="price">₱1,000,000</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="p1" src="../public/image/pins/p1.png" alt="product4">
                        <h4>FLower Pin in turquoise</h4>
                        <p id="price">₱89</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="p2" src="../public/image/pins/p2.png" alt="product4">
                        <h4>Lavender Nights Pin</h4>
                        <p id="price">₱89</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="p3" src="../public/image/pins/p3.png" alt="product4">
                        <h4>True Love Pin</h4>
                        <p id="price">₱89</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="p4" src="../public/image/pins/p4.png" alt="product4">
                        <h4>Flower Pin in yellow</h4>
                        <p id="price">₱89</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
            </div>
            <!-- ----------BOOKS---------- -->
            <div id="booksAfrica" class="small-container">
                <br>
                <br>
                <br>
                <br>
                <h3>ALL PRODUCTS - BOOKS (Africa)</h3>
                <div class="row">
                    <div class="col-1">
                        <img id="b4" src="../public/image/books/joy at work.jpeg" alt="product4">
                        <h4>Joy at Work</h4>
                        <p id="price">₱599</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="b5" src="../public/image/books/life changing magic of studying up.jpeg" alt="product4">
                        <h4>Life Changing Magic of Studying Up</h4>
                        <p id="price">₱599</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                    <div class="col-1">
                        <img id="b6" src="../public/image/books/spark joy.jpg" alt="product4">
                        <h4>Spark Joy</h4>
                        <p id="price">₱599</p>
                        <button class="btn1">Add to Cart</button>
                    </div>
                </div>
            </div>

          <!--cart popup-->
        <div id="cartpopup" class="cartoverlay">
            <div class="cartpopup">
                <a class="close" href="#">&times;</a>
                <div id="contents" class="cartcontent">
                </div>
                <div class="cart">
                    <h2>YOUR CART</h2>
                </div>
                <div class="checkout">
                    <h2>Total:</h2>
                    <h2 id="total">0</h2>
                    <h6 onclick="orderSuccess()">Check Out</button>
                </div>
            </div>
        </div>


            <!-- FOOTER-->
        <footer-component></footer-component>
    </body>
</html>

<script>
    var select = document.querySelector('.cartcontent');
    var noti = document.querySelector('.cart-icon');
    var button = document.getElementsByTagName('button');
    var count = 0;
    for(but of button){
        but.addEventListener('click', (e)=>{
        let count = Number(noti.getAttribute('data-count')|| 0);
        noti.setAttribute('data-count', count + 1);
        noti.classList.add('zero');
        let parent = e.target.parentNode;
        let child = parent.firstElementChild;
        let nextSibling = child.nextElementSibling;
        let priceElement = nextSibling.nextElementSibling;
        let price = parseFloat(priceElement.innerText.replace('₱',''));
        let total = document.getElementById('total').innerHTML;
        let currentTotal = parseInt(total) + parseInt(price);
        document.getElementById('total').innerText = currentTotal;

        let clone = parent.cloneNode(true);
        select.appendChild(clone);
        let remove = clone.lastElementChild;
        remove.innerText = "Remove";
        remove.addEventListener('click', function(){
            let count = Number(noti.getAttribute('data-count')|| 0)
            noti.setAttribute('data-count', count - 1)
            let price = parseFloat(priceElement.innerText.replace('₱',''))
            let total = document.getElementById('total').innerHTML
            let currentTotal = parseInt(total) - parseInt(price)
            document.getElementById('total').innerText = currentTotal
            clone.remove()
        })
        if (clone){
            noti.onclick =()=>{
            select.classList.toggle('display');
            }
        }
        })
    }

    function orderSuccess(){
        alert('Order Success! Thank you for trusting our shop.');
        //reset notif
        var count = Number(noti.getAttribute('data-count')|| 0);
        noti.setAttribute('data-count', 0);
        noti.classList.add('zero');
        //reset total price
        currentTotal = "0";
        document.getElementById('total').innerText = currentTotal;
        //remove item list
        var content = document.getElementById('contents');
        content.remove();
        
    }
</script>